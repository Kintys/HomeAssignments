<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../css/style.css">
        <title>Завдання 2</title>

    </head>

    <body>
        <script>
            function getTwoDimensionalArrayRamdom(rowNumb, columnNumb, minV, maxV) {
                let table = []
                for (let i = 0; i < rowNumb; i++) {
                    let arr = []
                    for (let j = 0; j < columnNumb; j++) {
                        const randomNumb = minV + Math.floor(Math.random() * (maxV - minV + 1))
                        arr.push(randomNumb)
                    }
                    table.push(arr)
                }
                return table
            }
            const newArray = getTwoDimensionalArrayRamdom(5, 7, 1, 1000)

            // загальний прибуток кожного масиву за тиждень;
            function getSumProfitWeek(arr) {
                let sum = []
                for (let i = 0; i < arr.length; i++) {
                    let profit = 0
                    for (let j = 0; j < arr[i].length; j++) {
                        profit += arr[i][j]
                    }
                    sum.push(profit)
                }
                return sum
            }
            const showProfitAllWeek = getSumProfitWeek(newArray)

            // загальний прибуток усіх магазинів по дням (загальний прибуток усіх магазинів за понеділок, за вівторок, і т.д.);
            function getSumProfitDay(arr) {
                let sum = []
                for (let i = 0; i < arr[0].length; i++) {
                    let profit = 0
                    for (let j = 0; j < arr.length; j++) {
                        profit += arr[j][i]
                    }
                    sum.push(profit)
                }
                return sum
            }
            const showProfitDay = getSumProfitDay(newArray)

            // загальний прибуток за робочі дні
            function getSumProfitForWorkDay(arr) {
                let sum = []
                for (let i = 0; i < arr.length; i++) {
                    let profit = 0
                    for (let j = 0; j < 5; j++) {
                        profit += arr[i][j]
                    }
                    sum.push(profit)
                }
                return sum
            }

            const showProfitWorkDay = getSumProfitForWorkDay(newArray)
            // загальний прибуток за вихідні дні
            function getSumProfitWeekendDay(arr) {
                let sum = []
                for (let i = 0; i < arr.length; i++) {
                    let profit = 0
                    for (let j = 5; j < arr[i].length; j++) {
                        profit += arr[i][j]
                    }
                    sum.push(profit)
                }
                return sum
            }
            const showProfitWeekendDay = getSumProfitWeekendDay(newArray)
            // максимальний прибуток за середу
            function getMaxSumForWednesday(arr) {
                let maxProfitWednesday = -Infinity
                for (let i = 0; i < arr.length; i++) {
                    for (let j = 2; j < 3; j++) {
                        if (arr[i][j] > maxProfitWednesday) maxProfitWednesday = arr[i][j]
                    }
                }
                return maxProfitWednesday
            }
            const showMaxProfitForWednesday = getMaxSumForWednesday(newArray)

            // сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200
            function isSumNumberMoreThan_200(arr) {
                sum = []
                for (let i = 0; i < arr.length; i++) {
                    profit = []
                    for (let j = 0; j < arr[i].length; j++) {
                        if (arr[i][j] > 200) profit.push(arr[i][j])
                    }
                    sum.push(profit)
                }
                return sum
            }
            const showNumberMoreThan_200 = isSumNumberMoreThan_200(newArray)

            // відсортувати кожен тиждень за зростанням
            function getSotrArrayBubbleMethod(arrSort) {
                let current = 0
                let swapped
                do {
                    swapped = false
                    for (let i = 1; i < arrSort.length; i++) {
                        if (arrSort[i - 1] > arrSort[i]) {
                            let temp = arrSort[i]
                            arrSort[i] = arrSort[i - 1]
                            arrSort[i - 1] = temp
                            swapped = true
                            current++
                        }
                    }
                } while (swapped);
                return current
            }

            const showSortWeek = getSotrArrayBubbleMethod(newArray)

            // відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку), тобто при порівнянні рядків потрібно порівнювати максимальні елементи у кожному з цих рядків
            let maxRowEl = newArray.map(
                (row) => row.reduce((prev, ele) => prev > ele ? prev : ele)
            )

            function sortArray(arrMax, arr) {
                let lastIndex = arrMax.length - 1
                for (let i = 0; i < lastIndex; i++) {
                    let currentMinNumb = i
                    for (let j = i + 1; j < arrMax.length; j++) {
                        if (arrMax[j] > arrMax[currentMinNumb]) currentMinNumb = j
                    }
                    if (i !== currentMinNumb) {
                        let temp = arrMax[i]
                        arrMax[i] = arrMax[currentMinNumb]
                        arrMax[currentMinNumb] = temp

                        temp = arr[i]
                        arr[i] = arr[currentMinNumb]
                        arr[currentMinNumb] = temp

                    }
                }
                return arr
            }

            const showSortWeeksInDescendingOrderOFMaxElem = sortArrayMethodMinValue(maxRowEl, newArray)

            let sumRowsNumber = newArray.map(
                (row) => row.reduce((prevN, elem) => prevN + elem)
            )
            // упорядкувати тижні (рядки) за спаданням суми елементів у рядку (тобто при порівнянні двох рядків треба знайти суму кожного з рядків і порівнювати ці суми, на основі цих сум буде зрозуміло, який з елементів повинен іти раніше).

            const showArrangeSortWeeks = sortArrayMethodMinValue(sumRowsNumber, newArray)

            function sortArrayMethodMinValue(arrMax, arr) {
                let lastIndex = arrMax.length - 1
                for (let i = 0; i < lastIndex; i++) {
                    let currentMinNumb = i
                    for (let j = i + 1; j < arrMax.length; j++) {
                        if (arrMax[j] > arrMax[currentMinNumb]) currentMinNumb = j
                    }
                    if (i !== currentMinNumb) {
                        let temp = arrMax[i]
                        arrMax[i] = arrMax[currentMinNumb]
                        arrMax[currentMinNumb] = temp

                        temp = arr[i]
                        arr[i] = arr[currentMinNumb]
                        arr[currentMinNumb] = temp

                    }
                }
                return arr
            }
            // Виводимо результат
            function printArray(arr, title) {
                document.write(`<br>${title}<br>`)
                for (let i = 0; i < arr.length; i++) {
                    document.write(`${arr[i]}<br>`)
                }
                return arr
            }
            const showArray = printArray(newArray, "Новий масив")

            document.write(`<br>Загальний прибуток кожного масиву за тиждень ${showProfitAllWeek}
            <br>`)

            document.write(`<br> загальний прибуток усіх магазинів по дням (загальний прибуток усіх магазинів за понеділок, за вівторок, і т.д.) ${showProfitDay}<br>`)

            document.write(`<br>  загальний прибуток за робочі дні ${showProfitWorkDay}<br>`)

            document.write(`<br> загальний прибуток за вихідні дні ${showProfitWeekendDay}<br>`)

            document.write(`<br> максимальний прибуток за середу ${showMaxProfitForWednesday}<br>`)

            printArray(showNumberMoreThan_200, "сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200")

            printArray(showSortWeek, "відсортувати кожен тиждень за зростанням")

            printArray(showSortWeeksInDescendingOrderOFMaxElem, "відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку), тобто при порівнянні рядків потрібно порівнювати максимальні елементи у кожному з цих рядків")

            printArray(showArrangeSortWeeks, "упорядкувати тижні (рядки) за спаданням суми елементів у рядку (тобто при порівнянні двох рядків треба знайти суму кожного з рядків і порівнювати ці суми, на основі цих сум буде зрозуміло, який з елементів повинен іти раніше). ")
        </script>
    </body>

</html>